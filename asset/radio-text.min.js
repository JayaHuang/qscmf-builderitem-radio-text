!function(e){var t=function(e){this.el=e,this._init()};t.prototype={_init:function(){this.input=document.createElement("input"),this.input.type="hidden",this.input.name=this.el.getAttribute("name"),this.input.value=this.el.getAttribute("value"),this.el.appendChild(this.input),this._createDom()},_createDom:function(){var e=this;this.option=JSON.parse(this.el.getAttribute("option"));var t=JSON.parse(this.input.value||"[]");this.option.forEach(function(i){var n=t.find(function(e){return e.key===i.key}),a=e._createItem(i,n);e.el.appendChild(a)})},_createItem:function(e,t){var i=this,n=document.createElement("div");n.className="qs-radio-text-container",this.el.appendChild(n);var a=document.createElement("div");a.className="qs-radio-text-box",n.appendChild(a);var c=document.createElement("div");c.className="qs-radio-text-div",t&&t.checked&&(c.className="qs-radio-text-div checked"),a.appendChild(c);var s,d=document.createElement("span");return d.className="qs-radio-text-label",d.innerText=e.title,a.appendChild(d),e.need_text&&((s=document.createElement("input")).type="text",s.className="qs-radio-text-input",t&&t.checked&&(s.className="qs-radio-text-input checked"),t&&t.text&&(s.value=t.text),n.appendChild(s),s.addEventListener("change",function(t){i._dump(e.key,!0,t.target.value)})),a.addEventListener("click",function(t){i._toArray(c.classList).indexOf("checked")>-1?(c.className="qs-radio-text-div",e.need_text&&(s.className="qs-radio-text-input"),i._dump(e.key,!1)):(c.className="qs-radio-text-div checked",e.need_text?(s.className="qs-radio-text-input checked",i._dump(e.key,!0,s.value)):i._dump(e.key,!0))}),n},_dump:function(e,t,i){var n=JSON.parse(this.input.value||"[]"),a=!1;if(n.forEach(function(n){n.key==e&&(n.checked=t,t&&i&&(n.text=i),a=!0)}),!1===a){var c={};c.key=e,c.checked=t,t&&i&&(c.text=i),n.push(c)}(n=n.filter(function(e){return e.checked})).length>0?this.input.value=JSON.stringify(n):this.input.value=""},_toArray:function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}},e.QsRadioText=t}(window);